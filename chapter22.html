<!DOCTYPE html>
<html>
<head>
    <title>Chapter 22: File Handling in Python</title>
   <link rel="stylesheet" href="style.css">
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" 
   integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>

<h1>Chapter 22: File Handling in Python</h1>

<h2>Introduction</h2>

<p>In Python, data stored in collections like lists, sets, and dictionaries is temporary. Once the Python Virtual Machine (PVM) shuts down, all these objects are destroyed, and the data is lost. However, in many programming scenarios, we need to store data permanently for future use. This is where file handling comes into play. Files are one of the most common ways to store data persistently.</p>

<p>Permanent data storage can be achieved using:</p>

<ol>
    <li>Files</li>
    <li>Databases</li>
    <li>Advanced storage systems like Big Data technologies</li>
</ol>

<p>In this chapter, we will focus on file handling in Python, which is essential for reading from and writing to files on your system.</p>

<h2>Types of Files</h2>

<p>There are two main types of files in Python:</p>

<h3>1. Text Files</h3>

<p>Text files are used to store textual data or character data. Examples include:</p>

<ul>
    <li><code>example.txt</code></li>
    <li><code>script.py</code></li>
</ul>

<h3>2. Binary Files</h3>

<p>Binary files are used to store binary data such as images, videos, audio files, and compiled programs. Examples include:</p>

<ul>
    <li><code>image.jpg</code></li>
    <li><code>video.mp4</code></li>
    <li><code>document.pdf</code></li>
</ul>

<h2>Opening a File</h2>

<p>Before performing any operation (like reading or writing) on a file, you need to open it using Python's built-in <code>open()</code> function. When opening a file, you must specify the mode, which indicates the purpose of opening the file (e.g., reading, writing, appending).</p>

<h3>Syntax</h3>

<pre><code>f = open(filename, mode)
</code></pre>

<p>Where:</p>

<ul>
    <li><code>filename</code>: The name of the file (including the path if it's not in the current directory).</li>
    <li><code>mode</code>: The mode in which the file is opened.</li>
</ul>

<h2>File Modes</h2>

<p>The following modes are available in Python for opening files:</p>

<table>
    <tr>
        <th>Mode</th>
        <th>Description</th>
    </tr>
    <tr>
        <td><code>r</code></td>
        <td>Open an existing file for reading. The file pointer is placed at the beginning of the file. If the file does not exist, a <code>FileNotFoundError</code> is raised. This is the default mode.</td>
    </tr>
    <tr>
        <td><code>w</code></td>
        <td>Open a file for writing. If the file exists, its contents are truncated (overwritten). If the file does not exist, it is created.</td>
    </tr>
    <tr>
        <td><code>a</code></td>
        <td>Open a file for appending. Data is added to the end of the file. If the file does not exist, it is created.</td>
    </tr>
    <tr>
        <td><code>r+</code></td>
        <td>Open a file for reading and writing. The file pointer is placed at the beginning of the file. If the file does not exist, a <code>FileNotFoundError</code> is raised.</td>
    </tr>
    <tr>
        <td><code>w+</code></td>
        <td>Open a file for writing and reading. If the file exists, its contents are truncated. If the file does not exist, it is created.</td>
    </tr>
    <tr>
        <td><code>a+</code></td>
        <td>Open a file for appending and reading. The file pointer is at the end of the file if it exists. If the file does not exist, it is created.</td>
    </tr>
    <tr>
        <td><code>x</code></td>
        <td>Open a file for exclusive creation. If the file already exists, a <code>FileExistsError</code> is raised.</td>
    </tr>
</table>

<h3>Binary Modes</h3>

<p>For binary files, append <code>'b'</code> to the mode:</p>

<ul>
    <li><code>rb</code>, <code>wb</code>, <code>ab</code>, <code>r+b</code>, <code>w+b</code>, <code>a+b</code>, <code>xb</code></li>
</ul>

<h2>Closing a File</h2>

<p>After completing operations on a file, it is important to close it using the <code>close()</code> method. This releases any system resources associated with the file.</p>

<pre><code>f.close()
</code></pre>

<p>Failure to close a file can lead to memory leaks and other resource-related issues.</p>

<h2>File Object Properties</h2>

<p>When you open a file, Python returns a file object with various properties and methods:</p>

<pre><code>f = open('example.txt', 'r')
</code></pre>

<h3>Attributes</h3>

<ul>
    <li><code>f.name</code>: Returns the name of the file.</li>
    <li><code>f.mode</code>: Returns the mode in which the file was opened.</li>
    <li><code>f.closed</code>: Returns <code>True</code> if the file is closed.</li>
</ul>

<h3>Methods</h3>

<ul>
    <li><code>f.readable()</code>: Returns <code>True</code> if the file can be read.</li>
    <li><code>f.writable()</code>: Returns <code>True</code> if the file can be written to.</li>
</ul>

<h2>Writing Data to Text Files</h2>

<p>To write data to a text file, you can use the <code>write()</code> or <code>writelines()</code> methods.</p>

<h3>Using <code>write()</code></h3>

<p>The <code>write()</code> method writes a string to the file. You need to manually add newline characters (<code>\n</code>) if you want to write multiple lines.</p>

<pre><code>f = open('example.txt', 'w')
f.write('Hello, World!\n')
f.write('This is a new line.\n')
f.close()
</code></pre>

<h3>Using <code>writelines()</code></h3>

<p>The <code>writelines()</code> method writes a list of strings to the file.</p>

<pre><code>lines = ['First line\n', 'Second line\n', 'Third line\n']
f = open('example.txt', 'w')
f.writelines(lines)
f.close()
</code></pre>

<p>Note:</p>

<ul>
    <li>If you pass a dictionary to <code>writelines()</code>, only the keys are written to the file.</li>
    <li>Keys must be strings; otherwise, a <code>TypeError</code> will be raised.</li>
    <li>When using <code>write()</code> and <code>writelines()</code>, you must include newline characters if you want to write on separate lines.</li>
</ul>

<h2>Example: Writing User Input to a File</h2>

<pre><code># Collect user input
names = []
x = input('Enter first name: ')
y = input('Enter second name: ')
names.append(x)
names.append(y)

# Write to file
with open('names.txt', 'w') as f:
    for name in names:
        f.write(name + '\n')

print('Names have been written to names.txt')
</code></pre>

<h2>Reading Data from Text Files</h2>

<p>You can read data from a text file using the following methods:</p>

<h3>1. <code>read()</code></h3>

<p>Reads the entire content of the file as a single string.</p>

<pre><code>f = open('example.txt', 'r')
content = f.read()
print(content)
f.close()
</code></pre>

<h3>2. <code>read(n)</code></h3>

<p>Reads <code>n</code> characters from the file.</p>

<pre><code>f = open('example.txt', 'r')
content = f.read(10)  # Reads the first 10 characters
print(content)
f.close()
</code></pre>

<h3>3. <code>readline()</code></h3>

<p>Reads one line from the file.</p>

<pre><code>f = open('example.txt', 'r')
line = f.readline()
print(line)
f.close()
</code></pre>

<h3>4. <code>readlines()</code></h3>

<p>Reads all the lines of the file and returns them as a list of strings.</p>

<pre><code>f = open('example.txt', 'r')
lines = f.readlines()
for line in lines:
    print(line.strip())
f.close()
</code></pre>

<h2>Example: Reading a File Line by Line</h2>

<pre><code>with open('example.txt', 'r') as f:
    for line in f:
        print(line.strip())
</code></pre>

<h2>File Handling Using <code>with</code> Statement</h2>

<p>The <code>with</code> statement in Python ensures that resources are properly managed. When dealing with files, it automatically closes the file for you when the block inside <code>with</code> is exited, even if exceptions are raised.</p>

<h3>Example</h3>

<pre><code>with open('example.txt', 'r') as f:
    content = f.read()
    print(content)
# No need to call f.close()
</code></pre>

<h2>Working with Binary Files</h2>

<p>To work with binary files (e.g., images, audio files), open the file in binary mode by appending <code>'b'</code> to the mode.</p>

<h3>Example: Reading a Binary File</h3>

<pre><code>with open('image.jpg', 'rb') as f:
    binary_data = f.read()
    print('File size:', len(binary_data), 'bytes')
</code></pre>

<h3>Example: Writing to a Binary File</h3>

<pre><code># Copy an image file
with open('image.jpg', 'rb') as source_file:
    data = source_file.read()

with open('copy.jpg', 'wb') as dest_file:
    dest_file.write(data)

print('Image has been copied to copy.jpg')
</code></pre>

<h2>Error Handling in File Operations</h2>

<p>When working with files, it's important to handle exceptions that may occur, such as <code>FileNotFoundError</code> or <code>PermissionError</code>.</p>

<h3>Example</h3>

<pre><code>try:
    with open('nonexistent_file.txt', 'r') as f:
        content = f.read()
except FileNotFoundError:
    print('The file does not exist.')
</code></pre>

<h2>Moving the File Pointer</h2>

<p>You can control the file pointer using the <code>seek()</code> and <code>tell()</code> methods.</p>

<ul>
    <li><code>f.seek(offset, whence)</code>: Moves the file pointer to a specific position.</li>
    <li><code>f.tell()</code>: Returns the current position of the file pointer.</li>
</ul>

<h3>Example</h3>

<pre><code>with open('example.txt', 'r') as f:
    print('Current position:', f.tell())
    f.seek(5)
    print('After seek:', f.tell())
    content = f.read()
    print(content)
</code></pre>

<h2>Summary</h2>

<p>In this chapter, we've covered the basics of file handling in Python. You learned how to:</p>

<ul>
    <li>Open files using different modes for text and binary data.</li>
    <li>Read from and write to files using various methods.</li>
    <li>Properly close files to free up system resources.</li>
    <li>Handle exceptions that may occur during file operations.</li>
    <li>Use the <code>with</code> statement for better resource management.</li>
</ul>

<h2>Additional Resources</h2>

<p>For more advanced file handling techniques and code examples, you can explore the following GitHub repository:</p>

<p><a href="https://github.com/yourusername/python-file-handling-examples" target="_blank">https://github.com/yourusername/python-file-handling-examples</a></p>

<p>This repository contains code snippets and projects that demonstrate file handling in different scenarios, such as processing CSV files, reading and writing JSON data, and handling large files efficiently.</p>

<h2>Conclusion</h2>


<p>File handling is an essential skill in Python programming. It enables you to store data permanently, read configurations, process logs, and much more. Mastery of file operations opens up a wide range of possibilities for data manipulation and persistence in your applications.</p>
<footer>
    
<nav aria-label="Page navigation example">
    <ul class="pagination">
        
    <li class="page-item">
        <a class="page-link" href="chapter22.html" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
            <span class="sr-only">Previous</span>
        </a>
    </li>
    
        <li class="page-item"><a class="page-link" href="chapter1.html">1</a></li>
<li class="page-item"><a class="page-link" href="chapter2.html">2</a></li>
<li class="page-item"><a class="page-link" href="chapter3.html">3</a></li>
<li class="page-item"><a class="page-link" href="chapter4.html">4</a></li>
<li class="page-item"><a class="page-link" href="chapter5.html">5</a></li>
<li class="page-item"><a class="page-link" href="chapter6.html">6</a></li>
<li class="page-item"><a class="page-link" href="chapter7.html">7</a></li>
<li class="page-item"><a class="page-link" href="chapter8.html">8</a></li>
<li class="page-item"><a class="page-link" href="chapter9.html">9</a></li>
<li class="page-item"><a class="page-link" href="chapter10.html">10</a></li>
<li class="page-item"><a class="page-link" href="chapter11.html">11</a></li>
<li class="page-item"><a class="page-link" href="chapter12.html">12</a></li>
<li class="page-item"><a class="page-link" href="chapter13.html">13</a></li>
<li class="page-item"><a class="page-link" href="chapter14.html">14</a></li>
<li class="page-item"><a class="page-link" href="chapter15.html">15</a></li>
<li class="page-item"><a class="page-link" href="chapter16.html">16</a></li>
<li class="page-item"><a class="page-link" href="chapter17.html">17</a></li>
<li class="page-item"><a class="page-link" href="chapter18.html">18</a></li>
<li class="page-item"><a class="page-link" href="chapter19.html">19</a></li>
<li class="page-item"><a class="page-link" href="chapter20.html">20</a></li>
<li class="page-item"><a class="page-link" href="chapter21.html">21</a></li>
<li class="page-item"><a class="page-link" href="chapter22.html">22</a></li>
<li class="page-item"><a class="page-link" href="chapter23.html">23</a></li>
<li class="page-item active"><a class="page-link" href="chapter24.html">24</a></li>

        
    <li class="page-item disabled">
        <a class="page-link" href="#" tabindex="-1" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
            <span class="sr-only">Next</span>
        </a>
    </li>
    
    </ul>
</nav>
</footer>
</body>
</html>
